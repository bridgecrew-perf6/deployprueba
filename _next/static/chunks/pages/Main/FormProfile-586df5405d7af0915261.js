(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9773],{89890:function(e,r,t){"use strict";t.d(r,{r:function(){return s}});var n=t(30266),a=t(809),o=t.n(a),u=t(9669),i=t.n(u),s=function(){var e=(0,n.Z)(o().mark((function e(r){var t,n,a,u,s,l=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>1&&void 0!==l[1]?l[1]:{},n=l.length>2&&void 0!==l[2]?l[2]:"POST",a=l.length>3&&void 0!==l[3]?l[3]:{},u=l.length>4&&void 0!==l[4]?l[4]:"json",a={Authorization:"Bearer "+localStorage.getItem("_tokenClient")},e.next=8,i()({url:"https://ramez-ecommerce.herokuapp.com/".concat(r),method:n,data:t,responseType:u,headers:a});case 8:return s=e.sent,e.abrupt("return",s.data);case 10:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},58072:function(e,r,t){"use strict";t.r(r);var n=t(92809),a=t(30266),o=t(80318),u=t(809),i=t.n(u),s=t(38648),l=t(67294),c=t(67555),d=t.n(c),p=t(30381),f=t.n(p),m=t(37744),h=t(11163),v=t(89890),g=t(84751),b=t(2924),x=t(94168),y=t(95049),C=t(41003),j=t(55019),S=t(71577),Z=t(85893);function P(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function E(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?P(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}x.Z.RangePicker;var O=b.Z.Option;var w=function(){var e=(0,h.useRouter)(),r=(0,g.I0)(),t=(0,l.useState)("0"),u=(t[0],t[1]),c=C.Z.useForm(),p=(0,o.Z)(c,1)[0],P=(0,l.useState)("horizontal"),w=(P[0],P[1],(0,l.useState)([])),N=w[0],F=w[1],I=(0,l.useState)(null),k=I[0],T=I[1],D=(0,l.useState)(""),q=D[0],V=D[1],L=(0,l.useState)(""),_=L[0],A=L[1],R=(0,l.useState)(null),Y=R[0],G=R[1],U=(0,l.useState)(!1),M=U[0],z=U[1];(0,l.useEffect)((function(){null!=Y&&(0,a.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:return e.next=4,X();case 4:case"end":return e.stop()}}),e)})))()}),[Y]),(0,l.useEffect)((function(){(0,a.Z)(i().mark((function r(){var t,n,a;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:null!==(t=e.query)&&void 0!==t&&t.tab&&(console.log("router",null===(n=e.query)||void 0===n?void 0:n.tab),(null===(a=e.query)||void 0===a?void 0:a.tab.toString().toLowerCase())=="address".toLowerCase()&&u("2"));case 1:case"end":return r.stop()}}),r)})))()}),[e.query]);var B=N.map((function(e,r){return(0,Z.jsx)(O,{value:e.id,children:e.description},r)})),X=function(){var e=(0,a.Z)(i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("form",p),r((0,y.po)({loaderSpiner:!0})),p.setFieldsValue({gender:null}),e.prev=3,e.next=6,(0,v.r)("userClients/getProfileClient",{},"get");case 6:t=e.sent,t.state?t.data:{},t.state&&(p.setFieldsValue({name:t.data.name}),p.setFieldsValue({lastname:t.data.lastname}),p.setFieldsValue({phoneProfile:t.data.celphone}),p.setFieldsValue({documentIdent:t.data.documentidentity}),p.setFieldsValue({phoneCorporation:t.data.phonecorporation}),p.setFieldsValue({dateBirthday:t.data.birthdayte}),p.setFieldsValue({nameCorporativeProfile:t.data.namecorporation}),p.setFieldsValue({gender:null!=t.data.idgender?parseInt(t.data.idgender):null}),z(null!=t.data.namecorporation)),e.next=14;break;case 11:return e.prev=11,e.t0=e.catch(3),e.abrupt("return",e.t0);case 14:return e.prev=14,r((0,y.po)({loaderSpiner:!1})),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[3,11,14,17]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=(0,a.Z)(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r((0,y.po)({loaderSpiner:!0})),e.prev=1,e.next=4,(0,v.r)("dataGeneral/listgender",{},"get");case 4:t=e.sent,n=t.state?t.data:[],F(n),e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",e.t0);case 12:return e.prev=12,r((0,y.po)({loaderSpiner:!1})),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=(0,a.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.validateFields().then(function(){var e=(0,a.Z)(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r((0,y.po)({loaderSpiner:!0})),e.prev=1,e.next=4,(0,v.r)("userClients/updateClientProfile",{name:p.getFieldValue("name"),lastname:p.getFieldValue("lastname"),celphone:p.getFieldValue("phoneProfile"),idgender:p.getFieldValue("gender"),birthdaydate:k?f()(k).format("YYYY-MM-DD"):null,celphonecorporation:p.getFieldValue("phoneCorporation"),namecorporation:p.getFieldValue("nameCorporativeProfile")},"post");case 4:(n=e.sent).state&&s.Z.success({message:"Perfil usuario",description:"El usuario actualizo sus datos correctamente.",key:"ok"}),console.log("data",n),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(1),console.log("errir",e.t0),e.abrupt("return",e.t0);case 13:return e.prev=13,console.log("loaderSpiner"),r((0,y.po)({loaderSpiner:!1})),e.finish(13);case 17:case"end":return e.stop()}}),e,null,[[1,9,13,17]])})));return function(r){return e.apply(this,arguments)}}()).catch((function(e){console.log("errorInfo",e)}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Z.jsxs)("div",{children:[(0,Z.jsx)(m.Z,{className:"site-page-header",onBack:function(){e.push("/Profile")},title:"Perfil"}),(0,Z.jsxs)(C.Z,{ref:function(e){G(e)},form:p,className:"formprofile",name:"register",scrollToFirstError:!0,layout:"vertical",children:[(0,Z.jsx)(C.Z.Item,{name:"name",label:"Nombre",rules:[{required:!0,message:"Nombre es requerido."}],children:(0,Z.jsx)(j.Z,{autoComplete:"off",maxLength:250})}),(0,Z.jsx)(C.Z.Item,{name:"lastname",label:"Apellidos",rules:[{required:!0,message:"Apellidos es requerido."}],children:(0,Z.jsx)(j.Z,{autoComplete:"off",maxLength:250})}),(0,Z.jsx)(C.Z.Item,{name:"documentIdent",label:"Documento Identidad",rules:[{required:!0,message:"Documento de Identidad es requerido."}],children:(0,Z.jsx)(j.Z,{type:"number",onInput:function(e){e.target.value=Math.max(0,parseInt(e.target.value)).toString().slice(0,20)},autoComplete:"off"})}),(0,Z.jsx)(C.Z.Item,{label:"Telefono",name:"phoneProfile",className:"phoneCorporation",rules:[{required:!0,message:"Numero T\xe8lefonico es requerido."}],children:(0,Z.jsx)(d(),{enableSearch:!0,value:q,country:"us",onChange:function(e){return V(e)}})}),(0,Z.jsx)(C.Z.Item,{label:"Genero",name:"gender",rules:[{required:!0,message:"Seleccione Genero!"}],children:(0,Z.jsxs)(b.Z,{placeholder:"Seleccione Genero",bordered:!0,children:[(0,Z.jsx)(O,{value:null,children:"SELECCIONE GENERO"},3),B]})}),(0,Z.jsx)(C.Z.Item,E(E({label:"Fecha de Nacimiento"},{rules:[{type:"object",required:!0,message:"Seleccione Fecha de Nacimiento."}]}),{},{children:(0,Z.jsx)(x.Z,{className:"dateBirthday",defaultValue:null,value:null==k?null:f()(k,"YYYY-MM-DD"),placeholder:"",onChange:function(e){T(e._d)}})})),(0,Z.jsx)(S.Z,{className:"btnIncluir",type:"primary",onClick:function(){z(!M)},children:M?(0,Z.jsx)(Z.Fragment,{children:"No Incluir datos Corporativos "}):(0,Z.jsx)(Z.Fragment,{children:"Incluir datos Corporativos "})}),M?(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(C.Z.Item,{name:"phoneCorporation",autoComplete:"off",label:"Telefono Corporativo",className:"phoneCorporation",rules:[{required:!0,message:"Numero T\xe8lefonico corporativo es requerido."}],children:(0,Z.jsx)(d(),{country:"us",enableSearch:!0,value:_,onChange:function(e){return A(e)}})}),(0,Z.jsx)(C.Z.Item,{label:"Nombre Corporativo",name:"nameCorporativeProfile",rules:[{required:!0,message:"Nombre Corporativo es requerido."}],children:(0,Z.jsx)(j.Z,(0,n.Z)({autoComplete:"off",className:"ant-input-phone",type:"text"},"autoComplete","off"))})]}):(0,Z.jsx)(Z.Fragment,{}),(0,Z.jsx)(S.Z,{style:{display:"block",marginTop:30},type:"primary",htmlType:"submit",onClick:W,children:"Guardar Cambios"})]})]})};r.default=l.memo(w)},95049:function(e,r,t){"use strict";t.d(r,{po:function(){return c},fl:function(){return d},NS:function(){return p},zs:function(){return f},rW:function(){return m},mb:function(){return h},v5:function(){return v}});var n="CHANGESELECTORDER",a="UPDATEFILTER",o="UPDATELISTCATEGORY",u="ADDCARD",i="SETVALUECOUNTCARD",s="UPDATELISTPRODUCTCOUNT",l="LOADERSPINER";function c(e){return{type:l,loaderSpiner:e.loaderSpiner}}function d(e){return{type:a,data:e}}function p(e){return{type:o,data:e}}function f(e){return{type:n,data:e}}function m(e){return{type:u,data:e}}function h(e){return{type:i,data:e}}function v(e){return console.log("setUpdateListProducts:",e.refreshList),{type:s,refreshList:e.refreshList}}},65083:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Main/FormProfile",function(){return t(58072)}])}},function(e){e.O(0,[4885,6138,853,636,1577,6316,6263,2246,1471,2924,4168,2605,7616,9774,2888,179],(function(){return r=65083,e(e.s=r);var r}));var r=e.O();_N_E=r}]);